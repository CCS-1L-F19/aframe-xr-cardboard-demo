<!DOCTYPE html>
<html>
  <head>
    <title>A-Frame / WebXR / AR / Boundary</title>
    <meta name="description" content="Hello, WebVR! - A-Frame">
    <script src='../../../vendor/aframe-master.js'></script>
    <script src='../../lib/boundary.js'></script>
    <script src='../../lib/prism.js'></script>
    <script src='../../lib/hyper-vr/coin_object.js'></script>
    <script src="https://cdn.jsdelivr.net/gh/zcanter/aframe-gradient-sky/dist/gradientsky.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script>
        AFRAME.registerComponent('collide_alert', {
            init: function () {
                this.el.addEventListener('collisions', function (e) {
                    console.log(e.detail);
                    e.detail.target.el.setAttribute('material', 'color', '#00ffff');
                });
            }
        });
    </script>
  </head>
  <body>
    <a-scene physica="debug: true;">
        <a-assets>
            <a-mixin id="boundary-floor" boundary_floor geometry="primitive: box; width: 0.1; height: 0.1; depth: 0.1;" material="shader: standard; color: #7700FF" opacity: 0.5; transparent: true; fog: false;"></a-mixin>
            <a-mixin id="boundary-corner" boundary_corner geometry="primitive: sphere; radius: 0.05" material="shader: standard; src: url(boundaryGrid.png);" opacity: 0.5; transparent: true; fog: false;"></a-mixin>
        </a-assets>
        <a-camera>
            <a-entity position="0 0 0.9">
                <a-cursor far="500" scale="0.1 0.1 0.1" fuse="false"></a-cursor>
            </a-entity>
            <a-sphere static-body color="#770077" position="0 -0.1 -0.5" radius="0.04"></a-sphere>
        </a-camera>
        <!-- <a-sky color="#FAFAFA" opacity=0.5 radius=800 side="back"></a-sky> -->
        <a-sky id="sky" opacity=0 radius=800 material="side: back; shader: gradient; topColor: 183 219 224; bottomColor: 255 255 255;"></a-sky>
        <a-entity position="0 -0.2 0" geometry="primitive: prism; height: 1; vertices: -1 -1, 0 1, 1 0, 0 0;" material="src: url(boundaryGrid.png); color: cyan; side: double; repeat: 4 4; transparent: true; flatShading: true; depthTest: false; shader: flat;"></a-entity>
        <a-entity static-body="shape: box;" collide_alert position="0 0 -2" geometry="primitive: box;" material="color: #00ff00;"></a-entity>
        <!-- <a-entity dynamic-body="shape: box;" collide_alert position="0 2 -2" rotation="5 10 0" geometry="primitive: box;" material="color: #00ff00;"></a-entity> -->
        <a-sphere static-body coin_object position="0.5 0 -2" radius=0.5></a-sphere>
    </a-scene>
  </body>
</html>
